package web;

import java.io.File;

import ir.TextAnnotator;
import util.FileIO;
import util.Parameters;

public class WebAnnotator {
	
	public static void main(String [] args){
		if(args.length == 2){
			ArgsReader argsReader = new ArgsReader(args);
			String xmlPath = argsReader.getXMLPath();
			Parameters.PLUGINS_PROPERTIES_PATH = argsReader.getPluginPropertiesPath();
			File file = new File(xmlPath);
			
			if(file.isDirectory()){
				for(File xmlFile : file.listFiles()){
					String text = TextAnnotator.annotateTEIFile(xmlFile);
					String path = Parameters.GET_XML_DIR_RESULT_PATH()+File.separator+xmlFile.getName();
					FileIO.writeFile(text, path, Parameters.UTF8);
				}
			}else{
				String text = TextAnnotator.annotateTEIFile(file);
				String path = Parameters.GET_XML_DIR_RESULT_PATH()+File.separator+file.getName();
				FileIO.writeFile(text, path, Parameters.UTF8);
			}
			
			
		}
	}

}
